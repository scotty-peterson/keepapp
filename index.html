<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Keep Up - Nurture Your Relationships</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;500;600&family=DM+Serif+Display&display=swap" rel="stylesheet">
</head>
<body>
    <div class="app-container">
        <header class="header">
            <div class="logo">
                <span class="logo-icon">‚òÄÔ∏è</span>
                <h1>Keep Up</h1>
            </div>
            <p class="tagline">Small moments, lasting connections</p>
        </header>

        <main class="main-content">
            <nav class="tabs">
                <button class="tab-btn active" data-tab="today">Today</button>
                <button class="tab-btn" data-tab="people">People</button>
                <button class="tab-btn" data-tab="commitments">Promises</button>
            </nav>

            <!-- Today Tab - The Dashboard -->
            <div id="today-tab" class="tab-content active">
                <div class="today-greeting">
                    <h2 id="greeting-text">Good morning</h2>
                    <p class="today-subtitle">Here's who would love to hear from you</p>
                </div>

                <div id="today-cards" class="today-cards">
                    <p class="empty-state gentle">You're all caught up. Take a moment to appreciate your connections.</p>
                </div>

                <div class="quick-stats">
                    <div class="stat-card">
                        <span class="stat-number" id="stat-people">0</span>
                        <span class="stat-label">people you care about</span>
                    </div>
                    <div class="stat-card">
                        <span class="stat-number" id="stat-promises">0</span>
                        <span class="stat-label">promises to keep</span>
                    </div>
                </div>
            </div>

            <!-- People Tab - The Roster -->
            <div id="people-tab" class="tab-content">
                <div class="roster-header">
                    <h2>Your People</h2>
                    <span class="roster-count" id="people-count">0</span>
                </div>

                <div class="roster-controls">
                    <select id="sort-people" class="sort-select">
                        <option value="needs-love">Needs some love</option>
                        <option value="name">Alphabetical</option>
                        <option value="recent">Recently added</option>
                    </select>
                </div>

                <div id="people-list" class="roster-list">
                    <p class="empty-state gentle">No one here yet. Add someone you'd like to stay connected with.</p>
                </div>

                <!-- Subtle add section at bottom -->
                <details class="add-person-drawer">
                    <summary class="add-drawer-toggle">
                        <span class="add-icon">+</span>
                        Add someone new
                    </summary>
                    <form id="add-person-form" class="add-form-inline">
                        <input type="text" id="person-name" placeholder="Their name" required>
                        <select id="person-frequency" required>
                            <option value="">How often to connect?</option>
                            <option value="7">Weekly</option>
                            <option value="14">Every couple weeks</option>
                            <option value="30">Monthly</option>
                            <option value="90">Every few months</option>
                        </select>
                        <input type="text" id="person-notes" placeholder="A note to remember them by (optional)">
                        <button type="submit" class="btn btn-warm">Add to your people</button>
                    </form>
                </details>
            </div>

            <!-- Commitments Tab -->
            <div id="commitments-tab" class="tab-content">
                <div class="add-section">
                    <h2>Track a Promise</h2>
                    <form id="add-commitment-form" class="add-form">
                        <div class="form-row">
                            <select id="commitment-person" required>
                                <option value="">Who did you promise?</option>
                            </select>
                            <input type="date" id="commitment-due" required>
                        </div>
                        <input type="text" id="commitment-text" placeholder="What did you promise?" required>
                        <button type="submit" class="btn btn-warm">Remember this</button>
                    </form>
                </div>

                <div class="list-section">
                    <h2>Your Promises <span id="commitments-count" class="count-badge">0</span></h2>
                    <div class="filter-tabs">
                        <button class="filter-btn active" data-filter="pending">Open</button>
                        <button class="filter-btn" data-filter="completed">Kept</button>
                        <button class="filter-btn" data-filter="all">All</button>
                    </div>
                    <div id="commitments-list" class="card-list">
                        <p class="empty-state gentle">No promises tracked yet. That's okay.</p>
                    </div>
                </div>
            </div>
        </main>

        <footer class="footer">
            <p>Made with care for the people who matter</p>
        </footer>
    </div>

    <!-- Celebration overlay -->
    <div id="celebration" class="celebration">
        <div class="celebration-content">
            <span class="celebration-emoji">üåü</span>
            <p class="celebration-text">Connection made!</p>
        </div>
    </div>

    <!-- Modal for logging reach out -->
    <div id="reach-out-modal" class="modal">
        <div class="modal-content">
            <h3>Catching up</h3>
            <p id="modal-person-name"></p>
            <textarea id="reach-out-notes" placeholder="What did you talk about? (totally optional)"></textarea>
            <div class="modal-actions">
                <button class="btn btn-secondary" id="cancel-reach-out">Maybe later</button>
                <button class="btn btn-warm" id="confirm-reach-out">We connected!</button>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="app.js"></script>
</body>
</html>
